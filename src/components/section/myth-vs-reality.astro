---
import Utube from '../widgets/Utube.astro'
const featuredImage = 'https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExaGJlaHNhM3ZkM2Jjazdyazk1NnR4M2J1MmQ4bG05ZzAycGJ3bG9wcSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/Cff40zpKacFFDJkLeh/giphy.gif'
const title = "Myth VS Reality"
const slug = "myth-vs-reality"
const intro = ''
import VideoJS from '../widgets/VideoJS.astro';
import AudioWavePlayer from '../widgets/AudioWavePlayer.astro';
import SectionHeading from '../Section-Heading.astro';
---
<!-- {
	docs.map(({ title,slug, Content }) => (
		<h2 class="" id={slug}>{title}</h2>
		<Content class="pt-10" />
	))
 }   -->

<div id="introduction" class="w-screen mx-auto ">
 <div class="flex box flex-col items-center">
  <SectionHeading {title} {featuredImage}></SectionHeading>


    <section class=" font-secondary max-w-7xl md:p-10 text-gray-600 text-lg content relative md:grid  md:grid-cols-2 gap-3">

        <div class="p-5 shadow-sm shadow-neutral-300 rounded-md aspect-video">
            <h2 class="font-Helv-Bold pb-2">Tibetans call out Latvian propagandist working to cover China's Colonial Boarding Schools</h2>
            <!-- <iframe width="560" height="315"  src="https://www.youtube.com/embed/acZRsIGoCbE?si=JSEidDAsfbTAJhiQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe> -->
            <Utube src="https://www.youtube.com/embed/acZRsIGoCbE?si=JSEidDAsfbTAJhiQ"></Utube>
            <div class="py-2">
                <span><span class="text-red-700 font-bold">Myth:</span> China is open to independent reporters to freely visit schools</span><br>
                <span><span class="text-green-700 font-bold">Reality:</span> China only hires propagandists to do their bidding</span>
            </div>
        </div>

        <div class="p-5 shadow-sm shadow-neutral-300 rounded-md">
            <h2 class="font-Helv-Bold pb-2">China is transforming Tibetan children into Chinese citizens loyal to the Chinese Communist Party.</h2>
            <!-- <iframe width="560" height="315" src="https://www.youtube.com/embed/9ziPlzSWYYE?si=I49bPjoTn4WdAvc9" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe> -->
            <Utube src="https://www.youtube.com/embed/9ziPlzSWYYE?si=I49bPjoTn4WdAvc9"></Utube>
            <div class="py-2">
                <span><span class="text-red-700 font-bold">Myth:</span> China respects Tibetan culture and languages</span><br>
                <span><span class="text-green-700 font-bold">Reality:</span> China is indoctrinating Tibetan children with a heavily politicised curriculum</span>
            </div>
        </div>

        <div class="p-5 shadow-sm shadow-neutral-300 rounded-md">
          <h2 class="font-Helv-Bold pb-2">China Says Tibetan Children Enjoy Excellent Facilities</h2>
          <img src="media/children-bed.png" alt="children bed" class="w-full">
         
          <div class="py-2">
              <span><span class="text-red-700 font-bold">Myth: </span>China says Tibetan children enjoy the best facilities</span><br>
              <span><span class="text-green-700 font-bold">Reality:</span> These children have to sleep in filthy bunk beds and live in an unsanitary and hazardous environment</span>
          </div>
      </div>

        <div class="p-5 shadow-sm shadow-neutral-300 rounded-md">
            <h2 class="font-Helv-Bold pb-2">China Says Tibetan Children Are Happy in State Boarding Schools</h2>
            <!-- <iframe width="560" height="315" src="https://www.youtube.com/embed/YOYWtZphARU?si=IKnN6jXucMrXmsPx" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe> -->
            <Utube src="https://www.youtube.com/embed/YOYWtZphARU?si=IKnN6jXucMrXmsPx"></Utube>
            <div class="py-2">
                <span><span class="text-red-700 font-bold">Myth: </span>China says Tibetans are happy in colonial boarding schools</span><br>
                <span><span class="text-green-700 font-bold">Reality:</span> Tibetan children are unhappy separated from their families and culture</span>
            </div>
            
        </div>
         
        <div class="p-5 shadow-sm shadow-neutral-300 rounded-md">
          <h2 class="font-Helv-Bold pb-2">China Claims: Tibetan kids must study Math and science in Chinese</h2>
          <VideoJS class="" src="https://tai-web-video.s3.us-east-1.amazonaws.com/preschool-boarding/China-claims-Tibetan-Students-have-to-study-math-and-science"  id=""></VideoJS>

          <div class="py-2">
              <span><span class="text-red-700 font-bold">Myth: </span>China says Tibetan children enjoy the best facilities</span><br>
              <span><span class="text-green-700 font-bold">Reality:</span> These children have to sleep in filthy bunk beds and live in an unsanitary and hazardous environment</span>
          </div>
      </div>
       
    </section>


    <section class="font-secondary  text-gray-600 text-lg content relative ">
      
        
       
        
        <AudioWavePlayer src="media/audio/audio3-eng.mp3" caption="audio caption" >
          
        </AudioWavePlayer>
  
    </section>

    <!-- <div class=" w-screen h-80 bg-cover bg-fixed relative bg-red-400" >
      <div class="w-full h-full absolute flex  justify-center bg-neutral-900">
          <div class="w-96 h-54 bg-blue-600"></div>
          <div class="w-96 h-54 bg-white"></div>
          <div class="w-96 h-54 bg-red-700"></div>
          <div class="w-96 h-54 bg-green-700"></div>
          <div class="w-96 h-54 bg-amber-400"></div>
      </div>
    </div> -->
</div>
</div>



<script>
import { gsap } from "gsap";
import ScrollTrigger from "gsap/ScrollTrigger";

gsap.registerPlugin(ScrollTrigger);

let boxes = gsap.utils.toArray(".box") as HTMLElement[];

boxes.forEach((box, i) => {
  const slug = box.querySelector('h1')?.id;
  if (slug) {
    const targetElement = document.querySelector(`#${slug}`);
    const heading = box.querySelector('h1');
    // Initial state
    gsap.set(heading, { opacity: 1 });
    // Scroll animation
    gsap.to(heading, {
      opacity: 0.2,
      scrollTrigger: {
        trigger: box,
        start: "top center",
        end: "bottom center",
        scrub: true,
        markers: false,
        pinSpacing:false,
        anticipatePin: 1,
      }
    });

    gsap.to(box, {
      duration: 1,
      scrollTrigger: {
        trigger: box,
        start: "100px 100px",
        end: "50% 10%",
        pin: targetElement,
        markers: true,
        pinSpacing:false,
        anticipatePin: 1,

      }
    });
  }
});

let banners = gsap.utils.toArray(".banner") as HTMLElement[];

banners.forEach((banner) => {
  let heading = banner.querySelector("h1");
  if (heading) {
    gsap.fromTo(
      heading,
      { opacity: 1,
        scale: .5,

       },
      {
        opacity: 0,
        scale: 2,
        scrollTrigger: {
          trigger: banner,
          start: "top center",
          end: "bottom center",
          scrub: true,
          // pin: heading,
          // markers: true, // Uncomment for debugging
        },
      }
    );
  }
});
</script>
