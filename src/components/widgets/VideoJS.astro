---
import 'video.js/dist/video-js.css';
// City
import '@videojs/themes/dist/city/index.css';
// Fantasy --------- in use now
import '@videojs/themes/dist/fantasy/index.css';
import '../../styles/video.css';
// Forest
import '@videojs/themes/dist/forest/index.css';
// Sea
import '@videojs/themes/dist/sea/index.css';
const {src,poster,id} = Astro.props
---

<video
  id={id}
  data-videojs-id={id}
  controls
  class="video-js vjs-theme-city vjs-fluid"
  poster={poster}
  data-setup="{}"
>
  <source src={src} type="video/mp4" />
  Your browser does not support the video tag.
</video>

<script type="text/javascript">
  if (typeof window !== "undefined") {
    import('video.js').then(({ default: videojs }) => {
      const videoElement = document.querySelector('[data-videojs-id]');
      if (videoElement) {
        videojs(videoElement);
      }
    });
  }
</script>

<!--  
  <media-controller>
    <video
    {id}
      slot="media"
      src="https://stream.mux.com/A3VXy02VoUinw01pwyomEO3bHnG4P32xzV7u1j1FSzjNg/high.mp4"
      poster="https://image.mux.com/A3VXy02VoUinw01pwyomEO3bHnG4P32xzV7u1j1FSzjNg/thumbnail.jpg"
    ></video>
    <media-control-bar>
      <media-play-button></media-play-button>
      <media-mute-button></media-mute-button>
      <media-time-range></media-time-range>
      <media-time-display></media-time-display>
      <media-fullscreen-button></media-fullscreen-button>
    </media-control-bar>
  </media-controller> -->